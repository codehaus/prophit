<html><!-- #BeginTemplate "/Templates/prophit-general.dwt" -->
<head>
<!-- #BeginEditable "doctitle" --> 
<title>prophIt: HelloList -prof sample</title>
<!-- #EndEditable --> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<script language="JavaScript">
<!--
function MM_reloadPage(init) {  //reloads the window if Nav4 resized
  if (init==true) with (navigator) {if ((appName=="Netscape")&&(parseInt(appVersion)==4)) {
    document.MM_pgW=innerWidth; document.MM_pgH=innerHeight; onresize=MM_reloadPage; }}
  else if (innerWidth!=document.MM_pgW || innerHeight!=document.MM_pgH) location.reload();
}
MM_reloadPage(true);
// -->
</script>
<link rel="stylesheet" href="default.css" type="text/css">
<STYLE>
	#topMenuLayer {border: solid; background-color: #dddddd; border-bottom-width: 1px; border-top-width: 1px; border-left-width: 1px; border-right-width: 1px; border-color: #FFFFFF #AAAAAA #AAAAAA #AAAAAA}
	#HeadingLayer {border: solid; border-bottom-width: 1px; border-top-width: 1px; border-left-width: 1px; border-right-width: 1px; border-color: #AAAAAA #AAAAAA #AAAAAA #AAAAAA}
	#leftcol {border: solid; background-color: #eeeeee; border-bottom-width: 1px; border-top-width: 1px; border-left-width: 1px; border-right-width: 1px; border-color: #FFFFFF #AAAAAA #AAAAAA #AAAAAA}
	.TopMenu {font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; font-variant: small-caps}
	A:link {color: blue}
	A:hover {color: red! important}
	A:active {color: red! important}
	#topMenuLayer A {text-decoration: none}
	#leftcol A {text-decoration: none}
	DIV.header {background-color: #EBDEA9; font-family: Arial, Helvetica, sans serif; font-size: small; color: #333333; font-variant: small-caps; font-weight: bold }
	.news {font-size: 2; font-family: "Courier New" }
</STYLE>
</head>

<body bgcolor="#FFFFFF" text="#333333">
<div id="HeadingLayer"> <font face="   "></font>
<table id="HeaderTable" width="100%" border="0" cellpadding="8" cellspacing="0">
    <tr>
  	  <td bgcolor="#EBDEA9" width="100%" > 
        <p><font size="6" face="Georgia, Times New Roman, Times, serif" color="#000000"><b><a href="index.html" style="text-decoration: none"><font color="222222">proph<font face="Courier New, Courier, mono">It</font></font></a></b></font> 
          <br>
          <a href="http://prophit.westslopesoftware.com"><font color="#333333"> 
          prophIt.westslopesoftware.com<br>
    </font></a> </p>
	</td>
	</tr>
  </table>
</div>
<div id="topMenuLayer">
	
  <table cellspacing="0" cellpadding="4" width="100%">
    <tr>
			
      <td class="TopMenu"> Last Published: @@date </td>
			<td>
				
        <div align="right"> 
		<span class="TopMenu"><a href="http://prophit.westslopesoftware.com">prophIt</a> 
          | <a href="docs/index.html">Documentation</a> | <a href="download.html">Download</a> 
        </span>
		</div>
			
        <font face="Arial, Helvetica, sans-serif"></font></td>
		</tr>
	</table> 
</div>
<div id="MAIN">
<table id="main" border="0" cellspacing="0" cellpadding="8" width="100%">
	<tr valign="top">
		
    <td id="leftcol" width="20%"> 
        <div id="LeftMenuLayer"> 
          <p><span class="MenuHeader">prophIt</span><br>
            <span class="MenuItem"> - <a href="index.html">Home Page</a><br>
            - <a href="news.html">News and Status</a><br>
            - <a href="team.html">The Team</a><br>
            - <a href="download.html">Get prophIt Now!</a></span><span class="MenuItem"><br>
            </span></p>
          <p><span class="MenuHeader">Documentation</span><br>
            <span class="MenuItem">- <a href="docs/index.html">Overview</a><br>
            - <a href="quick-start.html">Getting Started</a><br>
          </span> </p>
      </div>
		</td>
		<td>
			<div id="MainLayer">
			
			    <table name="MainTable" width="100%" bordercolor="#999999"  cellspacing="0" cellpadding="8" border="0">
					<tr>
						<td><div id="mainContentLayer">
						<!-- #BeginEditable "Main%20Content%20Region" --> 
                  <h1 align="center">HelloList <code>java -prof</code> Profile</h1>
                  <table border="0" cellspacing="0" cellpadding="0" bgcolor="eeeeee">
                    <tr> 
                      <td width="138" nowrap>Previous : <a href="docs/samples.html">Samples</a></td>
                      <td width="20" bgcolor="ffffff" nowrap>&nbsp;</td>
                      <td width="145" nowrap>Up : <a href="docs/samples.html">Samples</a></td>
                      <td width="20" bgcolor="ffffff" nowrap>&nbsp;</td>
                      <td width="269" nowrap>Next : <a href="hello-list-hprof-sample.html">HelloList 
                        <code>hprof</code> Profile</a></td>
                    </tr>
                  </table>
                  <p>Open this sample using the <i>File/Sample Profiles/prof/HelloList</i> 
                    menu item. </p>
                  <p>This sample shows <code><a href="docs/dash-prof.html">java 
                    -prof</a></code> output from the sample program <a href="java/util/HelloList.java.txt">HelloList.java</a>. 
                    This sample profile was generated by running the following 
                    command on JDK 1.3.1_02 for Windows:</p>
                  <pre>	java -classic -prof util.HelloList</pre>
                  <ol>
                    <li>Click on the <a href="docs/glossary.html#diagram_root">diagram 
                      root</a> (the bottom-most block in the tower diagram) to 
                      select the <code>&lt;root&gt;</code> function. The base 
                      of every diagram is the <code>&lt;root&gt;</code> function. 
                      All the program's top-level threads are displayed as <a href="docs/glossary.html#callee">callees</a> 
                      of <code>&lt;root&gt;</code>. 
                      <p> By selecting the <code>&lt;root&gt;</code> function, 
                        and reading the Callee table, you can determine that the 
                        program time consists primarily of the <code>HelloList.main</code> 
                        function (over 99%), though it also spends a little time 
                        running <code>java.lang.ClassLoader.loadClassInternal</code> 
                        and a few other setup-related functions. 
                    </li>
                    <li>Adjust the <a href="docs/glossary.html#depth_slider">depth 
                      slider </a>down to '1', to show only 1 level of callees. 
                      <p> If you look closely at the diagram, you can see that 
                        the <code>&lt;root&gt;</code> function has only one callee 
                        displayed. The block for the <code>HelloList.main</code> 
                        function is the only one drawn<code></code>, because so 
                        much more time is spent in <code>HelloList.main</code> 
                        than in any other function. 
                    </li>
                    <li> 
                      <p>Now move the slider to '2', to show another level of 
                        function calls, and click on the <code>HelloList.main</code> 
                        block in the diagram. If it helps you to get a better 
                        view of the diagram, click and drag the diagram to change 
                        its orientation. As you move your mouse over the diagram, 
                        the name of the function under the mouse pointer is displayed 
                        at the top of the diagram. 
                    </li>
                    <li> 
                      <p> This view shows the relative amounts of time taken by 
                        the <code>arrayAndString</code>, <code>linkedAndString</code>, 
                        <code>arrayAndBuffer</code>, and <code>linkedAndBuffer</code> 
                        functions. <code>arrayAndString</code> and <code>linkedAndString</code> 
                        take about 40% of the time spent in <code>HelloList.main</code> 
                        each, whereas <code>arrayAndBuffer</code> and <code>linkedAndBuffer</code> 
                        only take about 10% of the time each. 
                      <p> Already we can make 2 key observations: 
                      <ol>
                        <li>The functions which use <code>String</code> take much 
                          more time than the ones that use <code>StringBuffer</code></li>
                        <li>The functions which use <code>ArrayList</code> appear 
                          to take about the same amount of time as the ones which 
                          use <code>LinkedList</code>, but both <code>ArrayList</code> 
                          functions are slightly faster than their <code>LinkedList</code> 
                          counterparts. 
                      </ol>
                    </li>
                    <li>Double-click the <code>linkedAndString</code> block. Double-clicking 
                      makes the selected block into the <a href="docs/glossary.html#diagram_root">diagram 
                      root</a>, so <code>linkedAndString</code> is now the bottom 
                      block in the diagram. You can use the 'Back' and 'Forward' 
                      buttons to move back and forth between diagrams. 
                      <p> As we could have guessed, the majority of the time (96%) 
                        of the time spent in <code>linkedAndString</code> is spent 
                        in <code>buildAsStrings</code>. The rest of the time is 
                        split between adding items to the linked list, and cloning 
                        the list at the end of the function. 
                    </li>
                    <li> This diagram also shows what happens inside <code>buildAsStrings</code>. 
                      Move the slider up to '3' to show an additional level of 
                      function calls. 
                      <p> There are now several different colors of blocks in 
                        the diagram. What do the colors represent? All the blocks 
                        in the diagram are shaded between blue and red according 
                        to how much of the time was spent in the function itself 
                        ('<a href="docs/glossary.html#exclusive">exclusive time</a>'). 
                      <p> The diagram shows that there are 3 important hot spots 
                        in the <code>buildAsStrings</code> function: 
                      <ol>
                        <li><code>StringBuffer.toString</code></li>
                        <li><code>StringBuffer.append</code></li>
                        <li><code>StringBuffer.&lt;init&gt;</code></li>
                      </ol>
                    </li>
                    <li>Push the 'Root' button to set the root of the diagram 
                      back to the <code>&lt;root&gt;</code> function. Move the 
                      slider to '2', then double-click the <code>linkedAndBuffer</code> 
                      function to focus on it and re-draw the diagram. 
                      <p> In the <code>linkedAndString</code> function, building 
                        the strings took 96% of the time. Here, the <code>buildAsBuffer</code> 
                        function only takes about 87% of the time. 
                    </li>
                    <li>By moving the slider up to '4' or higher, you can see 
                      the full picture for how time is spent in <code>linkedAndBuffer</code>. 
                      Use the 'Back', 'Forward', 'Parent', and 'Root' buttons 
                      to navigate between the views that you create. At all times, 
                      the white highlight shows the function that you have currently 
                      selected (by clicking or double-clicking on it). The yellow 
                      highlights mark other places in the program where the selected 
                      function was invoked.</li>
                  </ol>
                  <table border="0" cellspacing="0" cellpadding="0" bgcolor="eeeeee">
                    <tr> 
                      <td width="138" nowrap>Previous : <a href="docs/samples.html">Samples</a></td>
                      <td width="20" bgcolor="ffffff" nowrap>&nbsp;</td>
                      <td width="145" nowrap>Up : <a href="docs/samples.html">Samples</a></td>
                      <td width="20" bgcolor="ffffff" nowrap>&nbsp;</td>
                      <td width="269" nowrap>Next : <a href="hello-list-hprof-sample.html">HelloList 
                        <code>hprof</code> Profile</a></td>
                    </tr>
                  </table>
                  <!-- #EndEditable -->
						</div></td>
					</tr>
				</table>
				<table width="100%" border="0" cellspacing="0" cellpadding="0">
				  <tr>
					
              <td><a href="http://www.westslopesoftware.com"><img src="assets/wsswLogo.jpg" width="673" height="99" border="0"></a></td>
				  </tr>
				</table>
			</div>
		
		</td>
	</tr>
</table>
</div>
<p>&nbsp;</p>
</body>
<!-- #EndTemplate --></html>
